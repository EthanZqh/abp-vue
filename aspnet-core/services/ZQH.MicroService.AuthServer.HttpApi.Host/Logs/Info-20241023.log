2024-10-23 03:42:28 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [101] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-10-23 03:42:28 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [63780] [101] - Lock is acquired for TokenCleanupBackgroundWorker
2024-10-23 03:42:28 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [101] - Start cleanup.
2024-10-23 03:42:28 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [101] - Start cleanup tokens.
2024-10-23 03:42:28 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [101] - Executed DbCommand (4ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-10-23 03:42:28 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [101] - Start cleanup authorizations.
2024-10-23 03:42:28 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [98] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-10-23 03:42:28 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [98] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE (@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`AuthorizationId` IS NOT NULL AND `o`.`AuthorizationId` IN ('3a157b3d-bdb3-841f-cdf4-d843fac589d8', '3a157b4e-2b0b-dd63-b4a9-5c94b96c0678'))
2024-10-23 03:42:28 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [98] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE (@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND `o`.`Id` IN ('3a157b3d-bdb3-841f-cdf4-d843fac589d8', '3a157b4e-2b0b-dd63-b4a9-5c94b96c0678')
2024-10-23 03:42:28 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [63780] [98] - Lock is released for TokenCleanupBackgroundWorker
2024-10-23 04:43:36 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [86] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-10-23 04:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [63780] [86] - Lock is acquired for TokenCleanupBackgroundWorker
2024-10-23 04:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [86] - Start cleanup.
2024-10-23 04:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [86] - Start cleanup tokens.
2024-10-23 04:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [61] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-10-23 04:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [61] - Start cleanup authorizations.
2024-10-23 04:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [61] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-10-23 04:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [39] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-10-23 04:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [39] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-10-23 04:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [63780] [39] - Lock is released for TokenCleanupBackgroundWorker
2024-10-23 05:43:36 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [65] - Executed DbCommand (3ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-10-23 05:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [63780] [63] - Lock is acquired for TokenCleanupBackgroundWorker
2024-10-23 05:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [63] - Start cleanup.
2024-10-23 05:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [63] - Start cleanup tokens.
2024-10-23 05:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [63] - Executed DbCommand (4ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-10-23 05:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [63] - Start cleanup authorizations.
2024-10-23 05:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [63] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-10-23 05:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [63] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-10-23 05:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [63] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-10-23 05:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [63780] [63] - Lock is released for TokenCleanupBackgroundWorker
2024-10-23 06:43:36 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [89] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-10-23 06:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [63780] [90] - Lock is acquired for TokenCleanupBackgroundWorker
2024-10-23 06:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [90] - Start cleanup.
2024-10-23 06:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [90] - Start cleanup tokens.
2024-10-23 06:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [90] - Executed DbCommand (6ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-10-23 06:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [90] - Start cleanup authorizations.
2024-10-23 06:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [89] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-10-23 06:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [89] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-10-23 06:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [89] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-10-23 06:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [63780] [89] - Lock is released for TokenCleanupBackgroundWorker
2024-10-23 07:43:36 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [76] - Executed DbCommand (4ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-10-23 07:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [63780] [76] - Lock is acquired for TokenCleanupBackgroundWorker
2024-10-23 07:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [76] - Start cleanup.
2024-10-23 07:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [76] - Start cleanup tokens.
2024-10-23 07:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [72] - Executed DbCommand (4ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-10-23 07:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [72] - Start cleanup authorizations.
2024-10-23 07:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [72] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-10-23 07:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [72] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-10-23 07:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [72] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-10-23 07:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [63780] [72] - Lock is released for TokenCleanupBackgroundWorker
2024-10-23 08:43:36 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [80] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-10-23 08:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [63780] [80] - Lock is acquired for TokenCleanupBackgroundWorker
2024-10-23 08:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [80] - Start cleanup.
2024-10-23 08:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [80] - Start cleanup tokens.
2024-10-23 08:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [90] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-10-23 08:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [90] - Start cleanup authorizations.
2024-10-23 08:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [91] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-10-23 08:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [91] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-10-23 08:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [91] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-10-23 08:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [63780] [91] - Lock is released for TokenCleanupBackgroundWorker
2024-10-23 09:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [107] - Executed DbCommand (7ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-10-23 09:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [63780] [105] - Lock is acquired for TokenCleanupBackgroundWorker
2024-10-23 09:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [105] - Start cleanup.
2024-10-23 09:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [105] - Start cleanup tokens.
2024-10-23 09:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [107] - Executed DbCommand (4ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-10-23 09:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [107] - Start cleanup authorizations.
2024-10-23 09:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [107] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-10-23 09:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [64] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-10-23 09:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [64] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-10-23 09:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [63780] [64] - Lock is released for TokenCleanupBackgroundWorker
2024-10-23 10:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [47] - Executed DbCommand (3ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-10-23 10:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [63780] [7] - Lock is acquired for TokenCleanupBackgroundWorker
2024-10-23 10:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [7] - Start cleanup.
2024-10-23 10:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [7] - Start cleanup tokens.
2024-10-23 10:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [7] - Executed DbCommand (4ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-10-23 10:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [7] - Start cleanup authorizations.
2024-10-23 10:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [7] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-10-23 10:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [7] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-10-23 10:43:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [7] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-10-23 10:43:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [63780] [7] - Lock is released for TokenCleanupBackgroundWorker
2024-10-23 13:25:46 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [110] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-10-23 13:25:46 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [63780] [110] - Lock is acquired for TokenCleanupBackgroundWorker
2024-10-23 13:25:46 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [110] - Start cleanup.
2024-10-23 13:25:46 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [110] - Start cleanup tokens.
2024-10-23 13:25:46 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [94] - Executed DbCommand (8ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-10-23 13:25:46 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [94] - Start cleanup authorizations.
2024-10-23 13:25:46 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [94] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-10-23 13:25:46 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [94] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE (@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`AuthorizationId` IS NOT NULL AND `o`.`AuthorizationId` IN ('3a158013-37fb-a117-e5b4-d19054677430', '3a15801c-c253-7b17-d4c6-237e99872b6a'))
2024-10-23 13:25:46 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [94] - Executed DbCommand (4ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE (@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND `o`.`Id` IN ('3a158013-37fb-a117-e5b4-d19054677430', '3a15801c-c253-7b17-d4c6-237e99872b6a')
2024-10-23 13:25:46 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [63780] [94] - Lock is released for TokenCleanupBackgroundWorker
2024-10-23 14:25:49 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [80] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-10-23 14:25:50 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [63780] [90] - Lock is acquired for TokenCleanupBackgroundWorker
2024-10-23 14:25:50 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [90] - Start cleanup.
2024-10-23 14:25:50 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [90] - Start cleanup tokens.
2024-10-23 14:25:50 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [90] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-10-23 14:25:50 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [63780] [90] - Start cleanup authorizations.
2024-10-23 14:25:50 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [80] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-10-23 14:25:50 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [80] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-10-23 14:25:50 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [63780] [80] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-10-23 14:25:50 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [63780] [80] - Lock is released for TokenCleanupBackgroundWorker
2024-10-23 21:30:12 [WRN] [DotNetCore.CAP.Internal.ConsumerRegister] [63780] [72] - RabbitMQ consumer cancelled. --> amq.ctag-ab-WGEnLlLlPnoSkS-rxzw
2024-10-23 21:30:12 [WRN] [DotNetCore.CAP.Internal.ConsumerRegister] [63780] [72] - RabbitMQ consumer shutdown. --> Unexpected Exception: Unable to read data from the transport connection: 远程主机强迫关闭了一个现有的连接。.
2024-10-23 21:30:17 [WRN] [DotNetCore.CAP.Processor.TransportCheckProcessor] [63780] [66] - Transport connection is unhealthy, reconnection...
2024-10-23 21:40:15 [WRN] [DotNetCore.CAP.Internal.ConsumerRegister] [63780] [72] - RabbitMQ consumer cancelled. --> amq.ctag-ab-WGEnLlLlPnoSkS-rxzw
2024-10-23 21:40:16 [WRN] [DotNetCore.CAP.Internal.ConsumerRegister] [63780] [72] - RabbitMQ consumer shutdown. --> Unexpected Exception: Unable to read data from the transport connection: 远程主机强迫关闭了一个现有的连接。.
2024-10-23 22:28:25 [WRN] [DotNetCore.CAP.Internal.ConsumerRegister] [63780] [72] - RabbitMQ consumer cancelled. --> amq.ctag-ab-WGEnLlLlPnoSkS-rxzw
2024-10-23 22:28:30 [WRN] [DotNetCore.CAP.Internal.ConsumerRegister] [63780] [72] - RabbitMQ consumer shutdown. --> Unexpected Exception: Unable to read data from the transport connection: 远程主机强迫关闭了一个现有的连接。.
