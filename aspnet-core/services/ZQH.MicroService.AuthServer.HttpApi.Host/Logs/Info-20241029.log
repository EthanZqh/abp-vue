2024-10-29 07:58:24 [WRN] [DotNetCore.CAP.Internal.ConsumerRegister] [13556] [39] - RabbitMQ consumer cancelled. --> amq.ctag-baztRQJQ1wrESZ6JUme4vw
2024-10-29 08:12:34 [WRN] [DotNetCore.CAP.Internal.ConsumerRegister] [13556] [39] - RabbitMQ consumer shutdown. --> Unexpected Exception: Unable to read data from the transport connection: 远程主机强迫关闭了一个现有的连接。.
2024-10-29 08:23:40 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [101] - Lock is acquired for TokenCleanupBackgroundWorker
2024-10-29 08:23:40 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [101] - Start cleanup.
2024-10-29 08:23:40 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [101] - Start cleanup tokens.
2024-10-29 08:23:40 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [35] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-10-29 08:23:40 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [35] - Executed DbCommand (3ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-10-29 08:23:45 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [35] - Start cleanup authorizations.
2024-10-29 08:23:45 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [35] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-10-29 08:23:45 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [35] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-10-29 08:23:45 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [35] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-10-29 08:23:45 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [35] - Lock is released for TokenCleanupBackgroundWorker
2024-10-29 09:06:58 [INF] [Microsoft.AspNetCore.Hosting.Diagnostics] [13556] [39] - Request starting HTTP/1.1 GET http://127.0.0.1:30015/api/abp/application-configuration?_t=1730164017707 - null 0
2024-10-29 09:06:58 [INF] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [13556] [39] - Executing endpoint 'Volo.Abp.AspNetCore.Mvc.ApplicationConfigurations.AbpApplicationConfigurationController.GetAsync (Volo.Abp.AspNetCore.Mvc)'
2024-10-29 09:06:58 [INF] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [13556] [39] - Route matched with {area = "abp", action = "Get", controller = "AbpApplicationConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Volo.Abp.AspNetCore.Mvc.ApplicationConfigurations.ApplicationConfigurationDto] GetAsync(Volo.Abp.AspNetCore.Mvc.ApplicationConfigurations.ApplicationConfigurationRequestOptions) on controller Volo.Abp.AspNetCore.Mvc.ApplicationConfigurations.AbpApplicationConfigurationController (Volo.Abp.AspNetCore.Mvc).
2024-10-29 09:06:58 [INF] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [13556] [39] - Executing action method Volo.Abp.AspNetCore.Mvc.ApplicationConfigurations.AbpApplicationConfigurationController.GetAsync (Volo.Abp.AspNetCore.Mvc) - Validation state: "Valid"
2024-10-29 09:06:58 [WRN] [Microsoft.AspNetCore.Http.ResponseCookies] [13556] [39] - The cookie 'XSRF-TOKEN' has set 'SameSite=None' and must also set 'Secure'.
2024-10-29 09:06:58 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [7] - Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`CreationTime`, `a`.`CreatorId`, `a`.`CultureName`, `a`.`DisplayName`, `a`.`Enable`, `a`.`LastModificationTime`, `a`.`LastModifierId`, `a`.`TwoLetterISOLanguageName`, `a`.`UiCultureName`
FROM `AbpLocalizationLanguages` AS `a`
WHERE `a`.`Enable`
2024-10-29 09:06:59 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [39] - Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`CreationTime`, `a`.`CreatorId`, `a`.`DefaultCultureName`, `a`.`Description`, `a`.`DisplayName`, `a`.`Enable`, `a`.`LastModificationTime`, `a`.`LastModifierId`, `a`.`Name`
FROM `AbpLocalizationResources` AS `a`
2024-10-29 09:06:59 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [7] - Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`CreationTime`, `a`.`CreatorId`, `a`.`CultureName`, `a`.`DisplayName`, `a`.`Enable`, `a`.`LastModificationTime`, `a`.`LastModifierId`, `a`.`TwoLetterISOLanguageName`, `a`.`UiCultureName`
FROM `AbpLocalizationLanguages` AS `a`
WHERE `a`.`Enable`
2024-10-29 09:06:59 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [115] - Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`CultureName`, `a`.`Key`, `a`.`ResourceName`, `a`.`Value`
FROM `AbpLocalizationTexts` AS `a`
2024-10-29 09:06:59 [INF] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [13556] [39] - Executed action method Volo.Abp.AspNetCore.Mvc.ApplicationConfigurations.AbpApplicationConfigurationController.GetAsync (Volo.Abp.AspNetCore.Mvc), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 823.2201ms.
2024-10-29 09:07:00 [INF] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [13556] [39] - Executing ObjectResult, writing value of type 'Volo.Abp.AspNetCore.Mvc.ApplicationConfigurations.ApplicationConfigurationDto'.
2024-10-29 09:07:01 [INF] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [13556] [7] - Executed action Volo.Abp.AspNetCore.Mvc.ApplicationConfigurations.AbpApplicationConfigurationController.GetAsync (Volo.Abp.AspNetCore.Mvc) in 2450.9489ms
2024-10-29 09:07:01 [INF] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [13556] [7] - Executed endpoint 'Volo.Abp.AspNetCore.Mvc.ApplicationConfigurations.AbpApplicationConfigurationController.GetAsync (Volo.Abp.AspNetCore.Mvc)'
2024-10-29 09:07:01 [INF] [Microsoft.AspNetCore.Hosting.Diagnostics] [13556] [7] - Request finished HTTP/1.1 GET http://127.0.0.1:30015/api/abp/application-configuration?_t=1730164017707 - 200 null application/json; charset=utf-8 3149.1824ms
2024-10-29 09:08:27 [INF] [Microsoft.AspNetCore.Hosting.Diagnostics] [13556] [7] - Request starting HTTP/1.1 GET http://127.0.0.1:30015/api/abp/api-definition?_t=1730164090598 - null 0
2024-10-29 09:08:27 [INF] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [13556] [7] - Executing endpoint 'Volo.Abp.AspNetCore.Mvc.ApiExploring.AbpApiDefinitionController.Get (Volo.Abp.AspNetCore.Mvc)'
2024-10-29 09:08:27 [INF] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [13556] [7] - Route matched with {area = "abp", action = "Get", controller = "AbpApiDefinition"}. Executing controller action with signature Volo.Abp.Http.Modeling.ApplicationApiDescriptionModel Get(Volo.Abp.Http.Modeling.ApplicationApiDescriptionModelRequestDto) on controller Volo.Abp.AspNetCore.Mvc.ApiExploring.AbpApiDefinitionController (Volo.Abp.AspNetCore.Mvc).
2024-10-29 09:08:27 [INF] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [13556] [7] - Executing action method Volo.Abp.AspNetCore.Mvc.ApiExploring.AbpApiDefinitionController.Get (Volo.Abp.AspNetCore.Mvc) - Validation state: "Valid"
2024-10-29 09:08:27 [WRN] [Volo.Abp.AspNetCore.Mvc.AspNetCoreApiDescriptionModelProvider] [13556] [7] - Controller 'Account' contains more than one action with name 'RegisterAsyncByInput' for module 'account'. Ignored: System.Threading.Tasks.Task RegisterAsync(ZQH.Abp.Account.PhoneRegisterDto)
2024-10-29 09:08:27 [INF] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [13556] [7] - Executed action method Volo.Abp.AspNetCore.Mvc.ApiExploring.AbpApiDefinitionController.Get (Volo.Abp.AspNetCore.Mvc), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 223.4018ms.
2024-10-29 09:08:27 [INF] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [13556] [7] - Executing ObjectResult, writing value of type 'Volo.Abp.Http.Modeling.ApplicationApiDescriptionModel'.
2024-10-29 09:08:27 [INF] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [13556] [7] - Executed action Volo.Abp.AspNetCore.Mvc.ApiExploring.AbpApiDefinitionController.Get (Volo.Abp.AspNetCore.Mvc) in 235.9264ms
2024-10-29 09:08:27 [INF] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [13556] [7] - Executed endpoint 'Volo.Abp.AspNetCore.Mvc.ApiExploring.AbpApiDefinitionController.Get (Volo.Abp.AspNetCore.Mvc)'
2024-10-29 09:08:27 [INF] [Microsoft.AspNetCore.Hosting.Diagnostics] [13556] [7] - Request finished HTTP/1.1 GET http://127.0.0.1:30015/api/abp/api-definition?_t=1730164090598 - 200 null application/json; charset=utf-8 605.9555ms
2024-10-29 09:23:40 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [97] - Executed DbCommand (5ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-10-29 09:23:45 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [62] - Lock is acquired for TokenCleanupBackgroundWorker
2024-10-29 09:23:45 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [62] - Start cleanup.
2024-10-29 09:23:45 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [62] - Start cleanup tokens.
2024-10-29 09:23:45 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [62] - Executed DbCommand (16ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-10-29 09:23:45 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [62] - Start cleanup authorizations.
2024-10-29 09:23:45 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [72] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-10-29 09:23:45 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [97] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-10-29 09:23:45 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [97] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-10-29 09:23:45 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [97] - Lock is released for TokenCleanupBackgroundWorker
2024-10-29 09:38:46 [INF] [Microsoft.AspNetCore.Hosting.Diagnostics] [13556] [65] - Request starting HTTP/1.1 GET http://127.0.0.1:30015/api/abp/application-configuration?_t=1730165926346 - null 0
2024-10-29 09:38:46 [INF] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [13556] [65] - Executing endpoint 'Volo.Abp.AspNetCore.Mvc.ApplicationConfigurations.AbpApplicationConfigurationController.GetAsync (Volo.Abp.AspNetCore.Mvc)'
2024-10-29 09:38:46 [INF] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [13556] [65] - Route matched with {area = "abp", action = "Get", controller = "AbpApplicationConfiguration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Volo.Abp.AspNetCore.Mvc.ApplicationConfigurations.ApplicationConfigurationDto] GetAsync(Volo.Abp.AspNetCore.Mvc.ApplicationConfigurations.ApplicationConfigurationRequestOptions) on controller Volo.Abp.AspNetCore.Mvc.ApplicationConfigurations.AbpApplicationConfigurationController (Volo.Abp.AspNetCore.Mvc).
2024-10-29 09:38:46 [INF] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [13556] [65] - Executing action method Volo.Abp.AspNetCore.Mvc.ApplicationConfigurations.AbpApplicationConfigurationController.GetAsync (Volo.Abp.AspNetCore.Mvc) - Validation state: "Valid"
2024-10-29 09:38:46 [WRN] [Microsoft.AspNetCore.Http.ResponseCookies] [13556] [65] - The cookie 'XSRF-TOKEN' has set 'SameSite=None' and must also set 'Secure'.
2024-10-29 09:38:46 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [38] - Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`CreationTime`, `a`.`CreatorId`, `a`.`CultureName`, `a`.`DisplayName`, `a`.`Enable`, `a`.`LastModificationTime`, `a`.`LastModifierId`, `a`.`TwoLetterISOLanguageName`, `a`.`UiCultureName`
FROM `AbpLocalizationLanguages` AS `a`
WHERE `a`.`Enable`
2024-10-29 09:38:47 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [99] - Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`CreationTime`, `a`.`CreatorId`, `a`.`DefaultCultureName`, `a`.`Description`, `a`.`DisplayName`, `a`.`Enable`, `a`.`LastModificationTime`, `a`.`LastModifierId`, `a`.`Name`
FROM `AbpLocalizationResources` AS `a`
2024-10-29 09:38:47 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [64] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`CreationTime`, `a`.`CreatorId`, `a`.`CultureName`, `a`.`DisplayName`, `a`.`Enable`, `a`.`LastModificationTime`, `a`.`LastModifierId`, `a`.`TwoLetterISOLanguageName`, `a`.`UiCultureName`
FROM `AbpLocalizationLanguages` AS `a`
WHERE `a`.`Enable`
2024-10-29 09:38:47 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [33] - Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`CultureName`, `a`.`Key`, `a`.`ResourceName`, `a`.`Value`
FROM `AbpLocalizationTexts` AS `a`
2024-10-29 09:38:47 [INF] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [13556] [65] - Executed action method Volo.Abp.AspNetCore.Mvc.ApplicationConfigurations.AbpApplicationConfigurationController.GetAsync (Volo.Abp.AspNetCore.Mvc), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 669.6865ms.
2024-10-29 09:38:47 [INF] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [13556] [65] - Executing ObjectResult, writing value of type 'Volo.Abp.AspNetCore.Mvc.ApplicationConfigurations.ApplicationConfigurationDto'.
2024-10-29 09:38:47 [INF] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [13556] [65] - Executed action Volo.Abp.AspNetCore.Mvc.ApplicationConfigurations.AbpApplicationConfigurationController.GetAsync (Volo.Abp.AspNetCore.Mvc) in 769.8024ms
2024-10-29 09:38:47 [INF] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [13556] [65] - Executed endpoint 'Volo.Abp.AspNetCore.Mvc.ApplicationConfigurations.AbpApplicationConfigurationController.GetAsync (Volo.Abp.AspNetCore.Mvc)'
2024-10-29 09:38:47 [INF] [Microsoft.AspNetCore.Hosting.Diagnostics] [13556] [65] - Request finished HTTP/1.1 GET http://127.0.0.1:30015/api/abp/application-configuration?_t=1730165926346 - 200 null application/json; charset=utf-8 812.2099ms
2024-10-29 09:38:54 [INF] [Microsoft.AspNetCore.Hosting.Diagnostics] [13556] [64] - Request starting HTTP/1.1 GET http://127.0.0.1:30015/api/abp/api-definition?_t=1730165934400 - null 0
2024-10-29 09:38:54 [INF] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [13556] [64] - Executing endpoint 'Volo.Abp.AspNetCore.Mvc.ApiExploring.AbpApiDefinitionController.Get (Volo.Abp.AspNetCore.Mvc)'
2024-10-29 09:38:54 [INF] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [13556] [64] - Route matched with {area = "abp", action = "Get", controller = "AbpApiDefinition"}. Executing controller action with signature Volo.Abp.Http.Modeling.ApplicationApiDescriptionModel Get(Volo.Abp.Http.Modeling.ApplicationApiDescriptionModelRequestDto) on controller Volo.Abp.AspNetCore.Mvc.ApiExploring.AbpApiDefinitionController (Volo.Abp.AspNetCore.Mvc).
2024-10-29 09:38:54 [INF] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [13556] [64] - Executing action method Volo.Abp.AspNetCore.Mvc.ApiExploring.AbpApiDefinitionController.Get (Volo.Abp.AspNetCore.Mvc) - Validation state: "Valid"
2024-10-29 09:38:54 [WRN] [Volo.Abp.AspNetCore.Mvc.AspNetCoreApiDescriptionModelProvider] [13556] [64] - Controller 'Account' contains more than one action with name 'RegisterAsyncByInput' for module 'account'. Ignored: System.Threading.Tasks.Task RegisterAsync(ZQH.Abp.Account.PhoneRegisterDto)
2024-10-29 09:38:54 [INF] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [13556] [64] - Executed action method Volo.Abp.AspNetCore.Mvc.ApiExploring.AbpApiDefinitionController.Get (Volo.Abp.AspNetCore.Mvc), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 298.7207ms.
2024-10-29 09:38:54 [INF] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [13556] [64] - Executing ObjectResult, writing value of type 'Volo.Abp.Http.Modeling.ApplicationApiDescriptionModel'.
2024-10-29 09:38:54 [INF] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [13556] [64] - Executed action Volo.Abp.AspNetCore.Mvc.ApiExploring.AbpApiDefinitionController.Get (Volo.Abp.AspNetCore.Mvc) in 310.1077ms
2024-10-29 09:38:54 [INF] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [13556] [64] - Executed endpoint 'Volo.Abp.AspNetCore.Mvc.ApiExploring.AbpApiDefinitionController.Get (Volo.Abp.AspNetCore.Mvc)'
2024-10-29 09:38:54 [INF] [Microsoft.AspNetCore.Hosting.Diagnostics] [13556] [64] - Request finished HTTP/1.1 GET http://127.0.0.1:30015/api/abp/api-definition?_t=1730165934400 - 200 null application/json; charset=utf-8 326.3434ms
2024-10-29 10:33:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [110] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-10-29 10:33:42 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [24] - Lock is acquired for TokenCleanupBackgroundWorker
2024-10-29 10:33:42 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [24] - Start cleanup.
2024-10-29 10:33:42 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [24] - Start cleanup tokens.
2024-10-29 10:33:42 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [24] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-10-29 10:33:42 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [24] - Start cleanup authorizations.
2024-10-29 10:33:42 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [24] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-10-29 10:33:42 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [24] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-10-29 10:33:42 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [24] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-10-29 10:33:42 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [24] - Lock is released for TokenCleanupBackgroundWorker
2024-10-29 11:33:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [49] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-10-29 11:33:42 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [37] - Lock is acquired for TokenCleanupBackgroundWorker
2024-10-29 11:33:42 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [37] - Start cleanup.
2024-10-29 11:33:42 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [37] - Start cleanup tokens.
2024-10-29 11:33:42 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [37] - Executed DbCommand (3ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-10-29 11:33:42 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [37] - Start cleanup authorizations.
2024-10-29 11:33:42 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [101] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-10-29 11:33:42 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [101] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-10-29 11:33:42 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [101] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-10-29 11:33:42 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [101] - Lock is released for TokenCleanupBackgroundWorker
2024-10-29 14:18:24 [WRN] [DotNetCore.CAP.Internal.ConsumerRegister] [13556] [69] - RabbitMQ consumer cancelled. --> amq.ctag-baztRQJQ1wrESZ6JUme4vw
2024-10-29 14:18:25 [WRN] [DotNetCore.CAP.Internal.ConsumerRegister] [13556] [69] - RabbitMQ consumer shutdown. --> Unexpected Exception: Unable to read data from the transport connection: 远程主机强迫关闭了一个现有的连接。.
2024-10-29 14:21:32 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [28] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-10-29 14:21:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [28] - Lock is acquired for TokenCleanupBackgroundWorker
2024-10-29 14:21:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [28] - Start cleanup.
2024-10-29 14:21:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [28] - Start cleanup tokens.
2024-10-29 14:21:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [84] - Executed DbCommand (4ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-10-29 14:21:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [32] - Start cleanup authorizations.
2024-10-29 14:21:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [32] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-10-29 14:21:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [32] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-10-29 14:21:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [32] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-10-29 14:21:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [32] - Lock is released for TokenCleanupBackgroundWorker
2024-10-29 15:21:32 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [109] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-10-29 15:21:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [44] - Lock is acquired for TokenCleanupBackgroundWorker
2024-10-29 15:21:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [44] - Start cleanup.
2024-10-29 15:21:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [44] - Start cleanup tokens.
2024-10-29 15:21:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [41] - Executed DbCommand (12ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-10-29 15:21:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [41] - Start cleanup authorizations.
2024-10-29 15:21:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [53] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-10-29 15:21:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [53] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-10-29 15:21:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [53] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-10-29 15:21:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [53] - Lock is released for TokenCleanupBackgroundWorker
2024-10-29 16:21:32 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [26] - Executed DbCommand (3ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-10-29 16:21:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [49] - Lock is acquired for TokenCleanupBackgroundWorker
2024-10-29 16:21:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [49] - Start cleanup.
2024-10-29 16:21:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [49] - Start cleanup tokens.
2024-10-29 16:21:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [26] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-10-29 16:21:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [26] - Start cleanup authorizations.
2024-10-29 16:21:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [87] - Executed DbCommand (0ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-10-29 16:21:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [87] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-10-29 16:21:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [87] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-10-29 16:21:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [87] - Lock is released for TokenCleanupBackgroundWorker
2024-10-29 17:21:32 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [33] - Executed DbCommand (11ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-10-29 17:21:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [28] - Lock is acquired for TokenCleanupBackgroundWorker
2024-10-29 17:21:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [28] - Start cleanup.
2024-10-29 17:21:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [28] - Start cleanup tokens.
2024-10-29 17:21:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [33] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-10-29 17:21:37 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [33] - Start cleanup authorizations.
2024-10-29 17:21:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [51] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-10-29 17:21:37 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [51] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-10-29 17:21:38 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [51] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-10-29 17:21:38 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [51] - Lock is released for TokenCleanupBackgroundWorker
2024-10-29 19:51:56 [WRN] [DotNetCore.CAP.Internal.ConsumerRegister] [13556] [99] - RabbitMQ consumer cancelled. --> amq.ctag-baztRQJQ1wrESZ6JUme4vw
2024-10-29 19:52:01 [WRN] [DotNetCore.CAP.Internal.ConsumerRegister] [13556] [99] - RabbitMQ consumer shutdown. --> Unexpected Exception: Unable to read data from the transport connection: 远程主机强迫关闭了一个现有的连接。.
2024-10-29 20:07:44 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [101] - Executed DbCommand (0ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-10-29 20:07:50 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [101] - Lock is acquired for TokenCleanupBackgroundWorker
2024-10-29 20:07:50 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [101] - Start cleanup.
2024-10-29 20:07:50 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [101] - Start cleanup tokens.
2024-10-29 20:07:50 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [48] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-10-29 20:07:50 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [48] - Start cleanup authorizations.
2024-10-29 20:07:50 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [48] - Executed DbCommand (0ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-10-29 20:07:50 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [48] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-10-29 20:07:50 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [48] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-10-29 20:07:50 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [48] - Lock is released for TokenCleanupBackgroundWorker
2024-10-29 23:47:12 [WRN] [DotNetCore.CAP.Internal.ConsumerRegister] [13556] [26] - RabbitMQ consumer cancelled. --> amq.ctag-baztRQJQ1wrESZ6JUme4vw
2024-10-29 23:47:14 [WRN] [DotNetCore.CAP.Internal.ConsumerRegister] [13556] [26] - RabbitMQ consumer shutdown. --> Unexpected Exception: Unable to read data from the transport connection: 远程主机强迫关闭了一个现有的连接。.
