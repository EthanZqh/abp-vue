2024-11-16 00:31:33 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [168] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-11-16 00:31:55 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [168] - Lock is acquired for TokenCleanupBackgroundWorker
2024-11-16 00:31:55 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [168] - Start cleanup.
2024-11-16 00:31:55 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [168] - Start cleanup tokens.
2024-11-16 00:31:55 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [168] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-11-16 00:31:55 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [168] - Start cleanup authorizations.
2024-11-16 00:31:55 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [167] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-11-16 00:31:55 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [167] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-11-16 00:31:55 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [167] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-11-16 00:31:55 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [167] - Lock is released for TokenCleanupBackgroundWorker
2024-11-16 01:31:33 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [78] - Executed DbCommand (7ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-11-16 01:31:55 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [152] - Lock is acquired for TokenCleanupBackgroundWorker
2024-11-16 01:31:55 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [152] - Start cleanup.
2024-11-16 01:31:55 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [152] - Start cleanup tokens.
2024-11-16 01:31:55 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [33] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-11-16 01:31:55 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [33] - Start cleanup authorizations.
2024-11-16 01:31:55 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [33] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-11-16 01:31:55 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [33] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-11-16 01:31:55 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [33] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-11-16 01:31:55 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [33] - Lock is released for TokenCleanupBackgroundWorker
2024-11-16 02:31:33 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [90] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-11-16 02:31:55 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [27] - Lock is acquired for TokenCleanupBackgroundWorker
2024-11-16 02:31:55 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [27] - Start cleanup.
2024-11-16 02:31:55 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [27] - Start cleanup tokens.
2024-11-16 02:31:56 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [27] - Executed DbCommand (3ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-11-16 02:31:56 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [27] - Start cleanup authorizations.
2024-11-16 02:31:56 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [27] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-11-16 02:31:56 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [27] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-11-16 02:31:56 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [27] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-11-16 02:31:56 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [27] - Lock is released for TokenCleanupBackgroundWorker
2024-11-16 03:31:33 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [24] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-11-16 03:31:56 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [24] - Lock is acquired for TokenCleanupBackgroundWorker
2024-11-16 03:31:56 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [24] - Start cleanup.
2024-11-16 03:31:56 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [24] - Start cleanup tokens.
2024-11-16 03:31:56 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [24] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-11-16 03:31:56 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [24] - Start cleanup authorizations.
2024-11-16 03:31:56 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [168] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-11-16 03:31:56 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [168] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-11-16 03:31:56 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [168] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-11-16 03:31:56 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [168] - Lock is released for TokenCleanupBackgroundWorker
2024-11-16 04:31:33 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [137] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-11-16 04:31:56 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [84] - Lock is acquired for TokenCleanupBackgroundWorker
2024-11-16 04:31:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [84] - Start cleanup.
2024-11-16 04:32:01 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [84] - Start cleanup tokens.
2024-11-16 04:32:01 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [156] - Executed DbCommand (21ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-11-16 04:32:01 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [156] - Start cleanup authorizations.
2024-11-16 04:32:01 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [156] - Executed DbCommand (13ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-11-16 04:32:02 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [156] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-11-16 04:32:02 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [156] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-11-16 04:32:02 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [156] - Lock is released for TokenCleanupBackgroundWorker
2024-11-16 05:31:33 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [164] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-11-16 05:32:02 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [162] - Lock is acquired for TokenCleanupBackgroundWorker
2024-11-16 05:32:02 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [162] - Start cleanup.
2024-11-16 05:32:02 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [162] - Start cleanup tokens.
2024-11-16 05:32:02 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [162] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-11-16 05:32:02 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [162] - Start cleanup authorizations.
2024-11-16 05:32:02 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [72] - Executed DbCommand (3ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-11-16 05:32:02 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [72] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-11-16 05:32:02 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [72] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-11-16 05:32:02 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [72] - Lock is released for TokenCleanupBackgroundWorker
2024-11-16 06:31:33 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [144] - Executed DbCommand (14ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-11-16 06:32:02 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [104] - Lock is acquired for TokenCleanupBackgroundWorker
2024-11-16 06:32:02 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [104] - Start cleanup.
2024-11-16 06:32:02 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [104] - Start cleanup tokens.
2024-11-16 06:32:02 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [104] - Executed DbCommand (3ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-11-16 06:32:02 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [104] - Start cleanup authorizations.
2024-11-16 06:32:02 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [104] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-11-16 06:32:02 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [104] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-11-16 06:32:02 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [104] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-11-16 06:32:02 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [104] - Lock is released for TokenCleanupBackgroundWorker
2024-11-16 07:31:33 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [129] - Executed DbCommand (0ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-11-16 07:32:02 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [87] - Lock is acquired for TokenCleanupBackgroundWorker
2024-11-16 07:32:02 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [87] - Start cleanup.
2024-11-16 07:32:02 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [87] - Start cleanup tokens.
2024-11-16 07:32:02 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [87] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-11-16 07:32:02 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [87] - Start cleanup authorizations.
2024-11-16 07:32:02 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [87] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-11-16 07:32:02 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [87] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-11-16 07:32:02 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [87] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-11-16 07:32:02 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [87] - Lock is released for TokenCleanupBackgroundWorker
2024-11-16 15:28:41 [WRN] [DotNetCore.CAP.Internal.ConsumerRegister] [13556] [98] - RabbitMQ consumer cancelled. --> amq.ctag-8yilrnLxK0mfUJJ7Z26cjQ
2024-11-16 15:28:51 [WRN] [DotNetCore.CAP.Internal.ConsumerRegister] [13556] [98] - RabbitMQ consumer shutdown. --> Unexpected Exception: Unable to read data from the transport connection: 远程主机强迫关闭了一个现有的连接。.
2024-11-16 16:26:43 [WRN] [DotNetCore.CAP.Internal.ConsumerRegister] [13556] [156] - RabbitMQ consumer cancelled. --> amq.ctag-8yilrnLxK0mfUJJ7Z26cjQ
2024-11-16 16:26:43 [WRN] [DotNetCore.CAP.Internal.ConsumerRegister] [13556] [156] - RabbitMQ consumer shutdown. --> Unexpected Exception: Unable to read data from the transport connection: 远程主机强迫关闭了一个现有的连接。.
2024-11-16 19:06:16 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [68] - Executed DbCommand (17ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-11-16 19:06:45 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [145] - Lock is acquired for TokenCleanupBackgroundWorker
2024-11-16 19:06:45 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [145] - Start cleanup.
2024-11-16 19:06:45 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [145] - Start cleanup tokens.
2024-11-16 19:06:45 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [108] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-11-16 19:06:45 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [108] - Start cleanup authorizations.
2024-11-16 19:06:45 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [108] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-11-16 19:06:45 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [108] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-11-16 19:06:45 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [108] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-11-16 19:06:45 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [108] - Lock is released for TokenCleanupBackgroundWorker
2024-11-16 20:06:16 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [167] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-11-16 20:06:45 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [41] - Lock is acquired for TokenCleanupBackgroundWorker
2024-11-16 20:06:45 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [41] - Start cleanup.
2024-11-16 20:06:45 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [41] - Start cleanup tokens.
2024-11-16 20:06:45 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [41] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-11-16 20:06:45 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [41] - Start cleanup authorizations.
2024-11-16 20:06:45 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [41] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-11-16 20:06:45 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [41] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-11-16 20:06:45 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [41] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-11-16 20:06:45 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [41] - Lock is released for TokenCleanupBackgroundWorker
2024-11-16 21:06:16 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [41] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-11-16 21:06:45 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [41] - Lock is acquired for TokenCleanupBackgroundWorker
2024-11-16 21:06:45 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [41] - Start cleanup.
2024-11-16 21:06:45 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [41] - Start cleanup tokens.
2024-11-16 21:06:45 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [41] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-11-16 21:06:45 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [41] - Start cleanup authorizations.
2024-11-16 21:06:45 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [41] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-11-16 21:06:45 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [41] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-11-16 21:06:45 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [41] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-11-16 21:06:45 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [41] - Lock is released for TokenCleanupBackgroundWorker
