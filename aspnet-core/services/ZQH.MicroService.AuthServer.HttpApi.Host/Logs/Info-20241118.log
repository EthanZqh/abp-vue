2024-11-18 01:29:11 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [150] - Executed DbCommand (7ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-11-18 01:29:34 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [27] - Lock is acquired for TokenCleanupBackgroundWorker
2024-11-18 01:29:34 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [27] - Start cleanup.
2024-11-18 01:29:34 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [27] - Start cleanup tokens.
2024-11-18 01:29:34 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [139] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-11-18 01:29:34 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [139] - Start cleanup authorizations.
2024-11-18 01:29:34 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [27] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-11-18 01:29:34 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [27] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-11-18 01:29:34 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [27] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-11-18 01:29:34 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [27] - Lock is released for TokenCleanupBackgroundWorker
2024-11-18 02:29:11 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [118] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-11-18 02:29:34 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [81] - Lock is acquired for TokenCleanupBackgroundWorker
2024-11-18 02:29:34 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [81] - Start cleanup.
2024-11-18 02:29:34 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [81] - Start cleanup tokens.
2024-11-18 02:29:34 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [81] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-11-18 02:29:34 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [81] - Start cleanup authorizations.
2024-11-18 02:29:34 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [118] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-11-18 02:29:34 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [118] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-11-18 02:29:34 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [118] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-11-18 02:29:34 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [118] - Lock is released for TokenCleanupBackgroundWorker
2024-11-18 06:09:09 [WRN] [DotNetCore.CAP.Internal.ConsumerRegister] [13556] [40] - RabbitMQ consumer cancelled. --> amq.ctag-WbeiSmfKgRvgNAdfcrK48g
2024-11-18 06:09:10 [WRN] [DotNetCore.CAP.Internal.ConsumerRegister] [13556] [40] - RabbitMQ consumer shutdown. --> Unexpected Exception: Unable to read data from the transport connection: 远程主机强迫关闭了一个现有的连接。.
2024-11-18 06:48:36 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [149] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-11-18 06:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [40] - Lock is acquired for TokenCleanupBackgroundWorker
2024-11-18 06:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [40] - Start cleanup.
2024-11-18 06:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [40] - Start cleanup tokens.
2024-11-18 06:48:59 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [40] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-11-18 06:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [40] - Start cleanup authorizations.
2024-11-18 06:48:59 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [149] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-11-18 06:48:59 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [149] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-11-18 06:48:59 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [149] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-11-18 06:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [149] - Lock is released for TokenCleanupBackgroundWorker
2024-11-18 07:48:36 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [53] - Executed DbCommand (12ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-11-18 07:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [38] - Lock is acquired for TokenCleanupBackgroundWorker
2024-11-18 07:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [38] - Start cleanup.
2024-11-18 07:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [38] - Start cleanup tokens.
2024-11-18 07:48:59 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [38] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-11-18 07:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [38] - Start cleanup authorizations.
2024-11-18 07:48:59 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [38] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-11-18 07:48:59 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [38] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-11-18 07:48:59 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [38] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-11-18 07:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [38] - Lock is released for TokenCleanupBackgroundWorker
2024-11-18 08:48:36 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [64] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-11-18 08:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [64] - Lock is acquired for TokenCleanupBackgroundWorker
2024-11-18 08:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [64] - Start cleanup.
2024-11-18 08:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [64] - Start cleanup tokens.
2024-11-18 08:48:59 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [142] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-11-18 08:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [142] - Start cleanup authorizations.
2024-11-18 08:48:59 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [142] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-11-18 08:48:59 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [142] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-11-18 08:48:59 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [142] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-11-18 08:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [142] - Lock is released for TokenCleanupBackgroundWorker
2024-11-18 09:48:36 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [147] - Executed DbCommand (11ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-11-18 09:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [104] - Lock is acquired for TokenCleanupBackgroundWorker
2024-11-18 09:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [104] - Start cleanup.
2024-11-18 09:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [104] - Start cleanup tokens.
2024-11-18 09:48:59 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [66] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-11-18 09:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [66] - Start cleanup authorizations.
2024-11-18 09:48:59 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [104] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-11-18 09:48:59 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [104] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-11-18 09:48:59 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [104] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-11-18 09:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [104] - Lock is released for TokenCleanupBackgroundWorker
2024-11-18 10:48:36 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [57] - Executed DbCommand (0ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-11-18 10:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [7] - Lock is acquired for TokenCleanupBackgroundWorker
2024-11-18 10:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [7] - Start cleanup.
2024-11-18 10:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [7] - Start cleanup tokens.
2024-11-18 10:48:59 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [7] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-11-18 10:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [7] - Start cleanup authorizations.
2024-11-18 10:48:59 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [7] - Executed DbCommand (0ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-11-18 10:48:59 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [7] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-11-18 10:48:59 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [7] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-11-18 10:48:59 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [7] - Lock is released for TokenCleanupBackgroundWorker
2024-11-18 11:48:35 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [101] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-11-18 11:48:58 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [101] - Lock is acquired for TokenCleanupBackgroundWorker
2024-11-18 11:48:58 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [101] - Start cleanup.
2024-11-18 11:48:58 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [101] - Start cleanup tokens.
2024-11-18 11:48:58 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [101] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-11-18 11:48:58 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [101] - Start cleanup authorizations.
2024-11-18 11:48:58 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [101] - Executed DbCommand (0ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-11-18 11:48:58 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [101] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-11-18 11:48:58 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [101] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-11-18 11:48:58 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [101] - Lock is released for TokenCleanupBackgroundWorker
2024-11-18 12:48:35 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [107] - Executed DbCommand (12ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-11-18 12:48:58 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [107] - Lock is acquired for TokenCleanupBackgroundWorker
2024-11-18 12:48:58 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [107] - Start cleanup.
2024-11-18 12:48:58 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [107] - Start cleanup tokens.
2024-11-18 12:48:58 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [151] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-11-18 12:48:58 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [151] - Start cleanup authorizations.
2024-11-18 12:48:58 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [107] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-11-18 12:48:58 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [107] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-11-18 12:48:58 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [107] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-11-18 12:48:58 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [107] - Lock is released for TokenCleanupBackgroundWorker
2024-11-18 13:48:35 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [163] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-11-18 13:48:58 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [163] - Lock is acquired for TokenCleanupBackgroundWorker
2024-11-18 13:48:58 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [163] - Start cleanup.
2024-11-18 13:48:58 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [163] - Start cleanup tokens.
2024-11-18 13:48:58 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [163] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-11-18 13:48:58 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [163] - Start cleanup authorizations.
2024-11-18 13:48:58 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [61] - Executed DbCommand (0ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-11-18 13:48:58 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [61] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-11-18 13:48:58 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [61] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-11-18 13:48:58 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [61] - Lock is released for TokenCleanupBackgroundWorker
2024-11-18 16:49:00 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [170] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-11-18 16:49:23 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [168] - Lock is acquired for TokenCleanupBackgroundWorker
2024-11-18 16:49:23 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [168] - Start cleanup.
2024-11-18 16:49:23 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [168] - Start cleanup tokens.
2024-11-18 16:49:23 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [168] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-11-18 16:49:23 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [168] - Start cleanup authorizations.
2024-11-18 16:49:23 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [182] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-11-18 16:49:23 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [182] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-11-18 16:49:23 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [182] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-11-18 16:49:23 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [182] - Lock is released for TokenCleanupBackgroundWorker
2024-11-18 17:49:00 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [69] - Executed DbCommand (12ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-11-18 17:49:23 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [57] - Lock is acquired for TokenCleanupBackgroundWorker
2024-11-18 17:49:23 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [57] - Start cleanup.
2024-11-18 17:49:23 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [57] - Start cleanup tokens.
2024-11-18 17:49:23 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [57] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-11-18 17:49:23 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [57] - Start cleanup authorizations.
2024-11-18 17:49:23 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [41] - Executed DbCommand (1ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-11-18 17:49:23 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [41] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-11-18 17:49:23 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [41] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-11-18 17:49:23 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [41] - Lock is released for TokenCleanupBackgroundWorker
2024-11-18 19:12:07 [WRN] [DotNetCore.CAP.Internal.ConsumerRegister] [13556] [108] - RabbitMQ consumer cancelled. --> amq.ctag-WbeiSmfKgRvgNAdfcrK48g
2024-11-18 19:12:07 [WRN] [DotNetCore.CAP.Internal.ConsumerRegister] [13556] [108] - RabbitMQ consumer shutdown. --> Unexpected Exception: Unable to read data from the transport connection: 远程主机强迫关闭了一个现有的连接。.
2024-11-18 19:58:39 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [73] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__Subtract_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `a`
FROM `AbpSessions` AS `a`
WHERE (@__ef_filter__p_0 OR (`a`.`TenantId` IS NULL)) AND (`a`.`LastAccessed` IS NULL OR (`a`.`LastAccessed` < @__Subtract_0))
2024-11-18 19:59:02 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [41] - Lock is acquired for TokenCleanupBackgroundWorker
2024-11-18 19:59:02 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [41] - Start cleanup.
2024-11-18 19:59:02 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [41] - Start cleanup tokens.
2024-11-18 19:59:02 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [41] - Executed DbCommand (3ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`Status`
    FROM `OpenIddictAuthorizations` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`AuthorizationId` = `t`.`Id`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` NOT IN ('inactive', 'valid') OR (`o`.`Status` IS NULL)) OR (`t`.`Id` IS NOT NULL AND ((`t`.`Status` <> 'valid') OR `t`.`Status` IS NULL))) OR (`o`.`ExpirationDate` < UTC_TIMESTAMP()))
2024-11-18 19:59:02 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupService] [13556] [41] - Start cleanup authorizations.
2024-11-18 19:59:02 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [41] - Executed DbCommand (2ms) [Parameters=[@__ef_filter__p_0='?' (DbType = Boolean), @__date_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`
FROM `OpenIddictAuthorizations` AS `o`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`AuthorizationId`
    FROM `OpenIddictTokens` AS `o0`
    WHERE @__ef_filter__p_0 OR NOT (`o0`.`IsDeleted`)
) AS `t` ON `o`.`Id` = `t`.`AuthorizationId`
WHERE ((@__ef_filter__p_0 OR NOT (`o`.`IsDeleted`)) AND (`o`.`CreationDate` < @__date_0)) AND (((`o`.`Status` <> 'valid') OR `o`.`Status` IS NULL) OR ((`o`.`Type` = 'ad-hoc') AND `t`.`Id` IS NULL))
2024-11-18 19:59:02 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [41] - Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictTokens` AS `o`
WHERE FALSE
2024-11-18 19:59:02 [INF] [Microsoft.EntityFrameworkCore.Database.Command] [13556] [41] - Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE `o`
FROM `OpenIddictAuthorizations` AS `o`
WHERE FALSE
2024-11-18 19:59:02 [INF] [Volo.Abp.OpenIddict.Tokens.TokenCleanupBackgroundWorker] [13556] [41] - Lock is released for TokenCleanupBackgroundWorker
